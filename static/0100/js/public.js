var notie=function(){function e(e){for(var t in e)D[t]=e[t]}function t(e,t,i){D.colorText.length>0&&(N.style.color=D.colorText),S(),P++,setTimeout(function(){P--},D.animationDelay+10),1===P&&(F?o(function(){n(e,t,i)}):n(e,t,i))}function n(e,t,n){F=!0;var i=0;switch(i="undefined"==typeof n||0===n?864e5:n>0&&n<1?1e3:1e3*n,E(H,"notie-background-success"),E(H,"notie-background-warning"),E(H,"notie-background-error"),E(H,"notie-background-info"),e){case 1:case"success":D.colorSuccess.length>0?H.style.backgroundColor=D.colorSuccess:j(H,"notie-background-success");break;case 2:case"warning":D.colorWarning.length>0?H.style.backgroundColor=D.colorWarning:j(H,"notie-background-warning");break;case 3:case"error":D.colorError.length>0?H.style.backgroundColor=D.colorError:j(H,"notie-background-error");break;case 4:case"info":D.colorInfo.length>0?H.style.backgroundColor=D.colorInfo:j(H,"notie-background-info")}N.innerHTML=t,H.style.top="-10000px",H.style.display="table",H.style.top="-"+H.offsetHeight-5+"px",z=setTimeout(function(){j(H,"notie-transition"),H.style.top=0,O=setTimeout(function(){o(function(){})},i)},20)}function o(e){clearTimeout(z),clearTimeout(O),H.style.top="-"+H.offsetHeight-5+"px",setTimeout(function(){E(H,"notie-transition"),H.style.top="-10000px",F=!1,e&&e()},D.animationDelay+10)}function i(e,t,n,i){D.colorText.length>0&&(U.style.color=D.colorText,q.style.color=D.colorText),S(),F?o(function(){a(e,t,n,i)}):a(e,t,n,i)}function a(e,t,n,o){function i(){U.innerHTML=t,q.innerHTML=n,W.style.top="-10000px",W.style.display="table",W.style.top="-"+W.offsetHeight-5+"px",Y.style.display="block",setTimeout(function(){j(W,"notie-transition"),W.style.top=0,Y.style.opacity="0.75",setTimeout(function(){B=!0},D.animationDelay+10)},20)}switch(L(),q.onclick=function(){r(),o&&setTimeout(function(){o()},D.animationDelay+10)},E(W,"notie-background-success"),E(W,"notie-background-warning"),E(W,"notie-background-error"),E(W,"notie-background-info"),e){case 1:case"success":D.colorSuccess.length>0?W.style.backgroundColor=D.colorSuccess:j(W,"notie-background-success");break;case 2:case"warning":D.colorWarning.length>0?W.style.backgroundColor=D.colorWarning:j(W,"notie-background-warning");break;case 3:case"error":D.colorError.length>0?W.style.backgroundColor=D.colorError:j(W,"notie-background-error");break;case 4:case"info":D.colorInfo.length>0?W.style.backgroundColor=D.colorInfo:j(W,"notie-background-info")}B?(r(),setTimeout(function(){i()},D.animationDelay+10)):i()}function r(){W.style.top="-"+W.offsetHeight-5+"px",Y.style.opacity="0",setTimeout(function(){E(W,"notie-transition"),W.style.top="-10000px",Y.style.display="none",M(),B=!1},D.animationDelay+10)}function c(e,t,n,i,a){D.colorInfo.length>0&&(J.style.backgroundColor=D.colorInfo),D.colorSuccess.length>0&&(Z.style.backgroundColor=D.colorSuccess),D.colorError.length>0&&(V.style.backgroundColor=D.colorError),D.colorText.length>0&&(Q.style.color=D.colorText,K.style.color=D.colorText,G.style.color=D.colorText),S(),F?o(function(){l(e,t,n,i,a)}):l(e,t,n,i,a)}function l(e,t,n,o,i){function a(){Q.innerHTML=e,K.innerHTML=t,G.innerHTML=n,X.style.top="-10000px",X.style.display="table",X.style.top="-"+X.offsetHeight-5+"px",ee.style.display="block",setTimeout(function(){j(X,"notie-transition"),X.style.top=0,ee.style.opacity="0.75",setTimeout(function(){te=!0},D.animationDelay+10)},20)}L(),Z.onclick=function(){s(),o&&setTimeout(function(){o()},D.animationDelay+10)},V.onclick=function(){s(),i&&setTimeout(function(){i()},D.animationDelay+10)},te?(s(),setTimeout(function(){a()},D.animationDelay+10)):a()}function s(){X.style.top="-"+X.offsetHeight-5+"px",ee.style.opacity="0",setTimeout(function(){E(X,"notie-transition"),X.style.top="-10000px",ee.style.display="none",M(),te=!1},D.animationDelay+10)}function u(e,t,n,i,a,r){D.colorInfo.length>0&&(ie.style.backgroundColor=D.colorInfo),D.colorSuccess.length>0&&(re.style.backgroundColor=D.colorSuccess),D.colorError.length>0&&(ce.style.backgroundColor=D.colorError),D.colorText.length>0&&(le.style.color=D.colorText,se.style.color=D.colorText,ue.style.color=D.colorText),S(),ae.setAttribute("autocapitalize",e.autocapitalize||"none"),ae.setAttribute("autocomplete",e.autocomplete||"off"),ae.setAttribute("autocorrect",e.autocorrect||"off"),ae.setAttribute("autofocus",e.autofocus||"true"),ae.setAttribute("inputmode",e.inputmode||"verbatim"),ae.setAttribute("max",e.max||""),ae.setAttribute("maxlength",e.maxlength||""),ae.setAttribute("min",e.min||""),ae.setAttribute("minlength",e.minlength||""),ae.setAttribute("placeholder",e.placeholder||""),ae.setAttribute("spellcheck",e.spellcheck||"default"),ae.setAttribute("step",e.step||"any"),ae.setAttribute("type",e.type||"text"),ae.value=e.prefilledValue||"",e.allowed?ae.oninput=function(){if(Array.isArray(e.allowed)){for(var t="",n=e.allowed,o=0;o<n.length;o++)"an"===n[o]?t+="0-9a-zA-Z":"a"===n[o]?t+="a-zA-Z":"n"===n[o]&&(t+="0-9"),"sp"===n[o]&&(t+=" ");var i=new RegExp("[^"+t+"]","g")}else"object"==typeof e.allowed&&(i=e.allowed);ae.value=ae.value.replace(i,"")}:ae.oninput=function(){return!0},F?o(function(){d(t,n,i,a,r)}):d(t,n,i,a,r)}function d(e,t,n,o,i){function a(){le.innerHTML=e,se.innerHTML=t,ue.innerHTML=n,ne.style.top="-10000px",ne.style.display="table",ne.style.top="-"+ne.offsetHeight-5+"px",oe.style.display="block",setTimeout(function(){j(ne,"notie-transition"),ne.style.top=0,oe.style.opacity="0.75",setTimeout(function(){de=!0,ae.focus()},D.animationDelay+10)},20)}L(),re.onclick=function(){f(),o&&setTimeout(function(){o(ae.value)},D.animationDelay+10)},ce.onclick=function(){f(),i&&setTimeout(function(){i(ae.value)},D.animationDelay+10)},de?(f(),setTimeout(function(){a()},D.animationDelay+10)):a()}function f(){ne.style.top="-"+ne.offsetHeight-5+"px",oe.style.opacity="0",setTimeout(function(){E(ne,"notie-transition"),oe.style.display="none",ne.style.top="-10000px",M(),de=!1},D.animationDelay+10)}function p(e,t,n){D.colorInfo.length>0&&(pe.style.backgroundColor=D.colorInfo),D.colorNeutral.length>0&&(ve.style.backgroundColor=D.colorNeutral),D.colorText.length>0&&(he.style.color=D.colorText,ve.style.color=D.colorText),S(),F?o(function(){h(e,t,n)}):h(e,t,n)}function h(e,t,n){function o(e){he.innerHTML=e,fe.style.bottom="-10000px",fe.style.display="table",fe.style.bottom="-"+fe.offsetHeight-5+"px",me.style.display="block",setTimeout(function(){j(fe,"notie-transition"),fe.style.bottom=0,me.style.opacity="0.75",setTimeout(function(){ye=!0},D.animationDelay+10)},20)}L(),document.getElementById("notie-select-choices").innerHTML="",ve.innerHTML=t;for(var i,a=0;a<n.length;a++){var r=document.createElement("div");if(r.innerHTML=n[a].title,j(r,"notie-select-choice"),ge.appendChild(r),D.colorText.length>0&&(r.style.color=D.colorText),n[a].type)switch(n[a].type){case 1:D.colorSuccess.length>0?r.style.backgroundColor=D.colorSuccess:j(r,"notie-background-success");break;case 2:D.colorWarning.length>0?r.style.backgroundColor=D.colorWarning:j(r,"notie-background-warning");break;case 3:D.colorError.length>0?r.style.backgroundColor=D.colorError:j(r,"notie-background-error");break;case 4:D.colorInfo.length>0?r.style.backgroundColor=D.colorInfo:j(r,"notie-background-info")}else n[a].color&&(r.style.backgroundColor=n[a].color);if(r.style.backgroundColor=window.getComputedStyle(r).backgroundColor,a>0&&r.style.backgroundColor===i.style.backgroundColor&&j(i,"notie-select-choice-bottom-border"),!n[a].handler)throw new Error('notie.select choice "'+r.title+'" must have a handler');r.onclick=function(e){return function(){m(),setTimeout(function(){n[e].handler()},D.animationDelay+10)}}(a),i=r}ye?(m(),setTimeout(function(){o(e)},D.animationDelay+10)):o(e)}function m(){fe.style.bottom="-"+fe.offsetHeight-5+"px",me.style.opacity="0",setTimeout(function(){E(fe,"notie-transition"),fe.style.bottom="-10000px",me.style.display="none",M(),ye=!1},D.animationDelay+10)}function g(){return F||te||de||ye||Fe}function v(e){D.colorInfo.length>0&&($e.style.backgroundColor=D.colorInfo),D.colorSuccess.length>0&&(He.style.backgroundColor=D.colorSuccess),D.colorError.length>0&&(Ae.style.backgroundColor=D.colorError),D.colorText.length>0&&($e.style.color=D.colorText),S(),F?o(function(){y(e)}):y(e)}function y(e){function t(){Ne=e.initial||new Date,b(Ne),He.innerHTML=e.yesText||"OK",Ae.innerHTML=e.noText||"Cancel",be.style.top="-10000px",be.style.display="table",be.style.top="-"+be.offsetHeight-5+"px",Ie.style.display="block",setTimeout(function(){j(be,"notie-transition"),be.style.top=0,Ie.style.opacity="0.75",setTimeout(function(){Fe=!0},D.animationDelay+10)},20)}L(),He.onclick=function(){x(),e.yesCallback&&setTimeout(function(){e.yesCallback(Ne)},D.animationDelay+10)},Ae.onclick=function(){x(),e.noCallback&&setTimeout(function(){e.noCallback(Ne)},D.animationDelay+10)},Fe?(x(),setTimeout(function(){t()},D.animationDelay+10)):t()}function b(e){je.innerHTML=D.dateMonths[e.getMonth()],Ee.innerHTML=e.getDate(),Se.innerHTML=e.getFullYear()}function k(){Ne.setMonth(Ne.getMonth()-1),b(Ne)}function $(){Ne.setMonth(Ne.getMonth()+1),b(Ne)}function w(){Ne.setDate(Ne.getDate()-1),b(Ne)}function C(){Ne.setDate(Ne.getDate()+1),b(Ne)}function _(){Ne.setFullYear(Ne.getFullYear()-1),b(Ne)}function T(){Ne.setFullYear(Ne.getFullYear()+1),b(Ne)}function x(){be.style.top="-"+be.offsetHeight-5+"px",Ie.style.opacity="0",setTimeout(function(){E(be,"notie-transition"),be.style.top="-10000px",Ie.style.display="none",M(),Fe=!1},D.animationDelay+10)}function j(e,t){e.classList?e.classList.add(t):e.className+=" "+t}function E(e,t){e.classList?e.classList.remove(t):e.className=e.className.replace(new RegExp("(^|\\b)"+t.split(" ").join("|")+"(\\b|$)","gi")," ")}function S(){document.activeElement&&document.activeElement.blur()}function L(){ze=document.body.style.height,Oe=document.body.style.overflow}function M(){document.body.style.height=ze,document.body.style.overflow=Oe}var D={colorSuccess:"",colorWarning:"",colorError:"",colorInfo:"",colorNeutral:"",colorText:"",dateMonths:["January","February","March","April","May","June","July","August","September","October","November","December"],animationDelay:300,backgroundClickDismiss:!0},H=document.createElement("div");H.id="notie-alert-outer",H.onclick=function(){o()},document.body.appendChild(H);var A=document.createElement("div");A.id="notie-alert-inner",H.appendChild(A);var I=document.createElement("div");I.id="notie-alert-content",A.appendChild(I);var N=document.createElement("span");N.id="notie-alert-text",I.appendChild(N);var z,O,F=!1,P=0,W=document.createElement("div");W.id="notie-force-outer";var R=document.createElement("div");R.id="notie-force-inner",W.appendChild(R);var U=document.createElement("span");U.id="notie-force-text",R.appendChild(U);var q=document.createElement("div");q.id="notie-force-button",W.appendChild(q);var Y=document.createElement("div");Y.id="notie-force-background",j(Y,"notie-transition"),document.body.appendChild(W),document.body.appendChild(Y);var B=!1,X=document.createElement("div");X.id="notie-confirm-outer";var J=document.createElement("div");J.id="notie-confirm-inner",X.appendChild(J);var Q=document.createElement("span");Q.id="notie-confirm-text",J.appendChild(Q);var Z=document.createElement("div");Z.id="notie-confirm-yes",X.appendChild(Z);var V=document.createElement("div");V.id="notie-confirm-no",X.appendChild(V);var K=document.createElement("span");K.id="notie-confirm-text-yes",Z.appendChild(K);var G=document.createElement("span");G.id="notie-confirm-text-no",V.appendChild(G);var ee=document.createElement("div");ee.id="notie-confirm-background",j(ee,"notie-transition"),ee.onclick=function(){D.backgroundClickDismiss&&s()},document.body.appendChild(X),document.body.appendChild(ee);var te=!1,ne=document.createElement("div");ne.id="notie-input-outer";var oe=document.createElement("div");oe.id="notie-input-background",j(oe,"notie-transition");var ie=document.createElement("div");ie.id="notie-input-inner",ne.appendChild(ie);var ae=document.createElement("input");ae.id="notie-input-field",ne.appendChild(ae);var re=document.createElement("div");re.id="notie-input-yes",ne.appendChild(re);var ce=document.createElement("div");ce.id="notie-input-no",ne.appendChild(ce);var le=document.createElement("span");le.id="notie-input-text",ie.appendChild(le);var se=document.createElement("span");se.id="notie-input-text-yes",re.appendChild(se);var ue=document.createElement("span");ue.id="notie-input-text-no",ce.appendChild(ue),document.body.appendChild(ne),document.body.appendChild(oe),oe.onclick=function(){D.backgroundClickDismiss&&f()};var de=!1,fe=document.createElement("div");fe.id="notie-select-outer";var pe=document.createElement("div");pe.id="notie-select-inner",fe.appendChild(pe);var he=document.createElement("span");he.id="notie-select-text",pe.appendChild(he);var me=document.createElement("div");me.id="notie-select-background",j(me,"notie-transition");var ge=document.createElement("div");ge.id="notie-select-choices",fe.appendChild(ge);var ve=document.createElement("div");ve.id="notie-select-cancel",fe.appendChild(ve),document.body.appendChild(fe),document.body.appendChild(me),me.onclick=function(){D.backgroundClickDismiss&&m()},ve.onclick=function(){m()};var ye=!1,be=document.createElement("div");be.id="notie-date-outer";var ke=document.createElement("div");ke.id="notie-date-selector",be.appendChild(ke);var $e=document.createElement("div");$e.id="notie-date-inner",be.appendChild($e);var we='<div class="notie-date-arrow-up"></div>',Ce='<div class="notie-date-arrow-down"></div>',_e=document.createElement("div");_e.className="notie-date-up",_e.innerHTML=we,ke.appendChild(_e),_e.onclick=k;var Te=document.createElement("div");Te.className="notie-date-up",Te.innerHTML=we,ke.appendChild(Te),Te.onclick=w;var xe=document.createElement("div");xe.className="notie-date-up",xe.innerHTML=we,ke.appendChild(xe),xe.onclick=_;var je=document.createElement("div");je.className="notie-date-text",ke.appendChild(je);var Ee=document.createElement("div");Ee.className="notie-date-text",ke.appendChild(Ee);var Se=document.createElement("div");Se.className="notie-date-text",ke.appendChild(Se);var Le=document.createElement("div");Le.className="notie-date-down",Le.innerHTML=Ce,ke.appendChild(Le),Le.onclick=$;var Me=document.createElement("div");Me.className="notie-date-down",Me.innerHTML=Ce,ke.appendChild(Me),Me.onclick=C;var De=document.createElement("div");De.className="notie-date-down",De.innerHTML=Ce,ke.appendChild(De),De.onclick=T;var He=document.createElement("div");He.id="notie-date-yes",$e.appendChild(He);var Ae=document.createElement("div");Ae.id="notie-date-no",$e.appendChild(Ae);var Ie=document.createElement("div");Ie.id="notie-date-background",j(Ie,"notie-transition"),Ie.onclick=function(){D.backgroundClickDismiss&&x()},document.body.appendChild(be),document.body.appendChild(Ie);var Ne,ze,Oe,Fe=!1;return window.addEventListener("keydown",function(e){var t=13===e.which||13===e.keyCode,n=27===e.which||27===e.keyCode;F?(t||n)&&o():te?t?Z.click():n&&s():de?t?re.click():n&&f():ye?n&&m():Fe&&(t?He.click():n&&x())}),{setOptions:e,alert:t,alertHide:o,force:i,confirm:c,input:u,select:p,date:v,isShowing:g}}();"object"==typeof module&&module.exports&&(module.exports=notie),function(){"use strict";function e(t,o){function i(e,t){return function(){return e.apply(t,arguments)}}var a;if(o=o||{},this.trackingClick=!1,this.trackingClickStart=0,this.targetElement=null,this.touchStartX=0,this.touchStartY=0,this.lastTouchIdentifier=0,this.touchBoundary=o.touchBoundary||10,this.layer=t,this.tapDelay=o.tapDelay||200,this.tapTimeout=o.tapTimeout||700,!e.notNeeded(t)){for(var r=["onMouse","onClick","onTouchStart","onTouchMove","onTouchEnd","onTouchCancel"],c=this,l=0,s=r.length;l<s;l++)c[r[l]]=i(c[r[l]],c);n&&(t.addEventListener("mouseover",this.onMouse,!0),t.addEventListener("mousedown",this.onMouse,!0),t.addEventListener("mouseup",this.onMouse,!0)),t.addEventListener("click",this.onClick,!0),t.addEventListener("touchstart",this.onTouchStart,!1),t.addEventListener("touchmove",this.onTouchMove,!1),t.addEventListener("touchend",this.onTouchEnd,!1),t.addEventListener("touchcancel",this.onTouchCancel,!1),Event.prototype.stopImmediatePropagation||(t.removeEventListener=function(e,n,o){var i=Node.prototype.removeEventListener;"click"===e?i.call(t,e,n.hijacked||n,o):i.call(t,e,n,o)},t.addEventListener=function(e,n,o){var i=Node.prototype.addEventListener;"click"===e?i.call(t,e,n.hijacked||(n.hijacked=function(e){e.propagationStopped||n(e)}),o):i.call(t,e,n,o)}),"function"==typeof t.onclick&&(a=t.onclick,t.addEventListener("click",function(e){a(e)},!1),t.onclick=null)}}var t=navigator.userAgent.indexOf("Windows Phone")>=0,n=navigator.userAgent.indexOf("Android")>0&&!t,o=/iP(ad|hone|od)/.test(navigator.userAgent)&&!t,i=o&&/OS 4_\d(_\d)?/.test(navigator.userAgent),a=o&&/OS [6-7]_\d/.test(navigator.userAgent),r=navigator.userAgent.indexOf("BB10")>0;e.prototype.needsClick=function(e){switch(e.nodeName.toLowerCase()){case"button":case"select":case"textarea":if(e.disabled)return!0;break;case"input":if(o&&"file"===e.type||e.disabled)return!0;break;case"label":case"iframe":case"video":return!0}return/\bneedsclick\b/.test(e.className)},e.prototype.needsFocus=function(e){switch(e.nodeName.toLowerCase()){case"textarea":return!0;case"select":return!n;case"input":switch(e.type){case"button":case"checkbox":case"file":case"image":case"radio":case"submit":return!1}return!e.disabled&&!e.readOnly;default:return/\bneedsfocus\b/.test(e.className)}},e.prototype.sendClick=function(e,t){var n,o;document.activeElement&&document.activeElement!==e&&document.activeElement.blur(),o=t.changedTouches[0],n=document.createEvent("MouseEvents"),n.initMouseEvent(this.determineEventType(e),!0,!0,window,1,o.screenX,o.screenY,o.clientX,o.clientY,!1,!1,!1,!1,0,null),n.forwardedTouchEvent=!0,e.dispatchEvent(n)},e.prototype.determineEventType=function(e){return n&&"select"===e.tagName.toLowerCase()?"mousedown":"click"},e.prototype.focus=function(e){var t;o&&e.setSelectionRange&&0!==e.type.indexOf("date")&&"time"!==e.type&&"month"!==e.type?(t=e.value.length,e.setSelectionRange(t,t)):e.focus()},e.prototype.updateScrollParent=function(e){var t,n;if(t=e.fastClickScrollParent,!t||!t.contains(e)){n=e;do{if(n.scrollHeight>n.offsetHeight){t=n,e.fastClickScrollParent=n;break}n=n.parentElement}while(n)}t&&(t.fastClickLastScrollTop=t.scrollTop)},e.prototype.getTargetElementFromEventTarget=function(e){return e.nodeType===Node.TEXT_NODE?e.parentNode:e},e.prototype.onTouchStart=function(e){var t,n,a;if(e.targetTouches.length>1)return!0;if(t=this.getTargetElementFromEventTarget(e.target),n=e.targetTouches[0],o){if(a=window.getSelection(),a.rangeCount&&!a.isCollapsed)return!0;if(!i){if(n.identifier&&n.identifier===this.lastTouchIdentifier)return e.preventDefault(),!1;this.lastTouchIdentifier=n.identifier,this.updateScrollParent(t)}}return this.trackingClick=!0,this.trackingClickStart=e.timeStamp,this.targetElement=t,this.touchStartX=n.pageX,this.touchStartY=n.pageY,e.timeStamp-this.lastClickTime<this.tapDelay&&e.preventDefault(),!0},e.prototype.touchHasMoved=function(e){var t=e.changedTouches[0],n=this.touchBoundary;return Math.abs(t.pageX-this.touchStartX)>n||Math.abs(t.pageY-this.touchStartY)>n},e.prototype.onTouchMove=function(e){return!this.trackingClick||((this.targetElement!==this.getTargetElementFromEventTarget(e.target)||this.touchHasMoved(e))&&(this.trackingClick=!1,this.targetElement=null),!0)},e.prototype.findControl=function(e){return void 0!==e.control?e.control:e.htmlFor?document.getElementById(e.htmlFor):e.querySelector("button, input:not([type=hidden]), keygen, meter, output, progress, select, textarea")},e.prototype.onTouchEnd=function(e){var t,r,c,l,s,u=this.targetElement;if(!this.trackingClick)return!0;if(e.timeStamp-this.lastClickTime<this.tapDelay)return this.cancelNextClick=!0,!0;if(e.timeStamp-this.trackingClickStart>this.tapTimeout)return!0;if(this.cancelNextClick=!1,this.lastClickTime=e.timeStamp,r=this.trackingClickStart,this.trackingClick=!1,this.trackingClickStart=0,a&&(s=e.changedTouches[0],u=document.elementFromPoint(s.pageX-window.pageXOffset,s.pageY-window.pageYOffset)||u,u.fastClickScrollParent=this.targetElement.fastClickScrollParent),c=u.tagName.toLowerCase(),"label"===c){if(t=this.findControl(u)){if(this.focus(u),n)return!1;u=t}}else if(this.needsFocus(u))return e.timeStamp-r>100||o&&window.top!==window&&"input"===c?(this.targetElement=null,!1):(this.focus(u),this.sendClick(u,e),o&&"select"===c||(this.targetElement=null,e.preventDefault()),!1);return!(!o||i||(l=u.fastClickScrollParent,!l||l.fastClickLastScrollTop===l.scrollTop))||(this.needsClick(u)||(e.preventDefault(),this.sendClick(u,e)),!1)},e.prototype.onTouchCancel=function(){this.trackingClick=!1,this.targetElement=null},e.prototype.onMouse=function(e){return!this.targetElement||(!!e.forwardedTouchEvent||(!e.cancelable||(!(!this.needsClick(this.targetElement)||this.cancelNextClick)||(e.stopImmediatePropagation?e.stopImmediatePropagation():e.propagationStopped=!0,e.stopPropagation(),e.preventDefault(),!1))))},e.prototype.onClick=function(e){var t;return this.trackingClick?(this.targetElement=null,this.trackingClick=!1,!0):"submit"===e.target.type&&0===e.detail||(t=this.onMouse(e),t||(this.targetElement=null),t)},e.prototype.destroy=function(){var e=this.layer;n&&(e.removeEventListener("mouseover",this.onMouse,!0),e.removeEventListener("mousedown",this.onMouse,!0),e.removeEventListener("mouseup",this.onMouse,!0)),e.removeEventListener("click",this.onClick,!0),e.removeEventListener("touchstart",this.onTouchStart,!1),e.removeEventListener("touchmove",this.onTouchMove,!1),e.removeEventListener("touchend",this.onTouchEnd,!1),e.removeEventListener("touchcancel",this.onTouchCancel,!1)},e.notNeeded=function(e){var t,o,i,a;if("undefined"==typeof window.ontouchstart)return!0;if(o=+(/Chrome\/([0-9]+)/.exec(navigator.userAgent)||[,0])[1]){if(!n)return!0;if(t=document.querySelector("meta[name=viewport]")){if(t.content.indexOf("user-scalable=no")!==-1)return!0;if(o>31&&document.documentElement.scrollWidth<=window.outerWidth)return!0}}if(r&&(i=navigator.userAgent.match(/Version\/([0-9]*)\.([0-9]*)/),i[1]>=10&&i[2]>=3&&(t=document.querySelector("meta[name=viewport]")))){if(t.content.indexOf("user-scalable=no")!==-1)return!0;if(document.documentElement.scrollWidth<=window.outerWidth)return!0}return"none"===e.style.msTouchAction||"manipulation"===e.style.touchAction||(a=+(/Firefox\/([0-9]+)/.exec(navigator.userAgent)||[,0])[1],!!(a>=27&&(t=document.querySelector("meta[name=viewport]"),t&&(t.content.indexOf("user-scalable=no")!==-1||document.documentElement.scrollWidth<=window.outerWidth)))||("none"===e.style.touchAction||"manipulation"===e.style.touchAction))},e.attach=function(t,n){return new e(t,n)},"function"==typeof define&&"object"==typeof define.amd&&define.amd?define(function(){return e}):"undefined"!=typeof module&&module.exports?(module.exports=e.attach,module.exports.FastClick=e):window.FastClick=e}(),!function(){function e(e){return e.replace(b,"").replace(k,",").replace($,"").replace(w,"").replace(C,"").split(_)}function t(e){return"'"+e.replace(/('|\\)/g,"\\$1").replace(/\r/g,"\\r").replace(/\n/g,"\\n")+"'"}function n(n,o){function i(e){return f+=e.split(/\n/).length-1,u&&(e=e.replace(/\s+/g," ").replace(/<!--[\w\W]*?-->/g,"")),e&&(e=y[1]+t(e)+y[2]+"\n"),e}function a(t){var n=f;if(s?t=s(t,o):r&&(t=t.replace(/\n/g,function(){return f++,"$line="+f+";"})),0===t.indexOf("=")){var i=d&&!/^=[=#]/.test(t);if(t=t.replace(/^=[=#]?|[\s;]*$/g,""),i){var a=t.replace(/\s*\([^\)]+\)/,"");p[a]||/^(include|print)$/.test(a)||(t="$escape("+t+")")}else t="$string("+t+")";t=y[1]+t+y[2]}return r&&(t="$line="+n+";"+t),v(e(t),function(e){if(e&&!m[e]){var t;t="print"===e?k:"include"===e?$:p[e]?"$utils."+e:h[e]?"$helpers."+e:"$data."+e,w+=e+"="+t+",",m[e]=!0}}),t+"\n"}var r=o.debug,c=o.openTag,l=o.closeTag,s=o.parser,u=o.compress,d=o.escape,f=1,m={$data:1,$filename:1,$utils:1,$helpers:1,$out:1,$line:1},g="".trim,y=g?["$out='';","$out+=",";","$out"]:["$out=[];","$out.push(",");","$out.join('')"],b=g?"$out+=text;return $out;":"$out.push(text);",k="function(){var text=''.concat.apply('',arguments);"+b+"}",$="function(filename,data){data=data||$data;var text=$utils.$include(filename,data,$filename);"+b+"}",w="'use strict';var $utils=this,$helpers=$utils.$helpers,"+(r?"$line=0,":""),C=y[0],_="return new String("+y[3]+");";v(n.split(c),function(e){e=e.split(l);var t=e[0],n=e[1];1===e.length?C+=i(t):(C+=a(t),n&&(C+=i(n)))});var T=w+C+_;r&&(T="try{"+T+"}catch(e){throw {filename:$filename,name:'Render Error',message:e.message,line:$line,source:"+t(n)+".split(/\\n/)[$line-1].replace(/^\\s+/,'')};}");try{var x=new Function("$data","$filename",T);return x.prototype=p,x}catch(j){throw j.temp="function anonymous($data,$filename) {"+T+"}",j}}var o=function(e,t){return"string"==typeof t?g(t,{filename:e}):r(e,t)};o.version="3.0.0",o.config=function(e,t){i[e]=t};var i=o.defaults={openTag:"<%",closeTag:"%>",escape:!0,cache:!0,compress:!1,parser:null},a=o.cache={};o.render=function(e,t){return g(e,t)};var r=o.renderFile=function(e,t){var n=o.get(e)||m({filename:e,name:"Render Error",message:"Template not found"});return t?n(t):n};o.get=function(e){var t;if(a[e])t=a[e];else if("object"==typeof document){var n=document.getElementById(e);if(n){var o=(n.value||n.innerHTML).replace(/^\s*|\s*$/g,"");t=g(o,{filename:e})}}return t};var c=function(e,t){return"string"!=typeof e&&(t=typeof e,"number"===t?e+="":e="function"===t?c(e.call(e)):""),e},l={"<":"&#60;",">":"&#62;",'"':"&#34;","'":"&#39;","&":"&#38;"},s=function(e){return l[e]},u=function(e){return c(e).replace(/&(?![\w#]+;)|[<>"']/g,s)},d=Array.isArray||function(e){return"[object Array]"==={}.toString.call(e)},f=function(e,t){var n,o;if(d(e))for(n=0,o=e.length;o>n;n++)t.call(e,e[n],n,e);else for(n in e)t.call(e,e[n],n)},p=o.utils={$helpers:{},$include:r,$string:c,$escape:u,$each:f};o.helper=function(e,t){h[e]=t};var h=o.helpers=p.$helpers;o.onerror=function(e){var t="Template Error\n\n";for(var n in e)t+="<"+n+">\n"+e[n]+"\n\n";"object"==typeof console&&console.error(t)};var m=function(e){return o.onerror(e),function(){return"{Template Error}"}},g=o.compile=function(e,t){function o(n){try{return new l(n,c)+""}catch(o){return t.debug?m(o)():(t.debug=!0,g(e,t)(n))}}t=t||{};for(var r in i)void 0===t[r]&&(t[r]=i[r]);var c=t.filename;try{var l=n(e,t)}catch(s){return s.filename=c||"anonymous",s.name="Syntax Error",m(s)}return o.prototype=l.prototype,o.toString=function(){return l.toString()},c&&t.cache&&(a[c]=o),o},v=p.$each,y="break,case,catch,continue,debugger,default,delete,do,else,false,finally,for,function,if,in,instanceof,new,null,return,switch,this,throw,true,try,typeof,var,void,while,with,abstract,boolean,byte,char,class,const,double,enum,export,extends,final,float,goto,implements,import,int,interface,long,native,package,private,protected,public,short,static,super,synchronized,throws,transient,volatile,arguments,let,yield,undefined",b=/\/\*[\w\W]*?\*\/|\/\/[^\n]*\n|\/\/[^\n]*$|"(?:[^"\\]|\\[\w\W])*"|'(?:[^'\\]|\\[\w\W])*'|\s*\.\s*[$\w\.]+/g,k=/[^\w$]+/g,$=new RegExp(["\\b"+y.replace(/,/g,"\\b|\\b")+"\\b"].join("|"),"g"),w=/^\d[^,]*|,\d[^,]*/g,C=/^,+|,+$/g,_=/^$|,+/;i.openTag="{{",i.closeTag="}}";var T=function(e,t){var n=t.split(":"),o=n.shift(),i=n.join(":")||"";return i&&(i=", "+i),"$helpers."+o+"("+e+i+")"};i.parser=function(e){e=e.replace(/^\s/,"");var t=e.split(" "),n=t.shift(),i=t.join(" ");switch(n){case"if":e="if("+i+"){";break;case"else":t="if"===t.shift()?" if("+t.join(" ")+")":"",e="}else"+t+"{";break;case"/if":e="}";break;case"each":var a=t[0]||"$data",r=t[1]||"as",c=t[2]||"$value",l=t[3]||"$index",s=c+","+l;"as"!==r&&(a="[]"),e="$each("+a+",function("+s+"){";break;case"/each":e="});";break;case"echo":e="print("+i+");";break;case"print":case"include":e=n+"("+t.join(",")+");";break;default:if(/^\s*\|\s*[\w\$]/.test(i)){var u=!0;0===e.indexOf("#")&&(e=e.substr(1),u=!1);for(var d=0,f=e.split("|"),p=f.length,h=f[d++];p>d;d++)h=T(h,f[d]);e=(u?"=":"=#")+h}else e=o.helpers[n]?"=#"+n+"("+t.join(",")+");":"="+e}return e},"function"==typeof define?define(function(){return o}):"undefined"!=typeof exports?module.exports=o:this.template=o}(),function(e){e.fn.validate=function(t){function n(){for(var t=e(this).attr("validate").split("|"),n=t.length,o=0;o<n;o++)if(r.hasOwnProperty(t[o])&&0==r[t[o]](e(this)))return!1}function o(){var o=!0;return"object"==typeof t.ids?e.each(t.ids,function(e,t){if(0==n.call(t)&&(o=!1,i))return!1}):e(this).find("[validate]").each(function(e,t){if(0==n.call(t)&&(o=!1,i))return!1}),o&&a.flag&&a.id.val(a.txt),o}var i=!!t.isone,a={flag:!1,id:e(this).find("input[type='submit']"),txt:"提交中..."},r={required:function(t){if(""==e.trim(t.val()))return _error(t,"required"),!1},email:function(e){var t=/^\w+@([0-9a-zA-Z]+[.])+[a-z]{2,4}$/,n=e.val();if(n&&!t.test(n))return _error(e,"email"),!1},phone:function(e){var t=/^1[3|5|8|7]\d{9}$/,n=e.val();if(n&&!t.test(n))return _error(e,"phone"),!1},number:function(e){var t=e.val();if(t&&isNaN(e.val()))return _error(e,"number"),!1},url:function(e){var t=/^http:\/\/.+\./,n=e.val();if(n&&!t.test(n))return _error(e,"url"),!1},idcard:function(e){var t=/(^\d{15}$)|(^\d{17}([0-9]|X|x)$)/,n=e.val();if(n&&!t.test(n))return _error(e,"idcard"),!1}},c={required:"不能为空",email:"格式不正确",phone:"格式不正确",url:"格式不正确",number:"请输入数字",idcard:"格式不正确"};return t&&(t.messages&&(c=e.extend(c,t.messages)),t.validate&&(r=e.extend(r,t.validate)),t.submitBtn&&(a=e.extend(a,t.submitBtn))),_error=function(e,n){return t&&t.error?void t.error(e,c[n]):void alert(c[n])},o.call(this)}}(jQuery),function(e){"function"==typeof define&&define.amd?define(["jquery"],e):e("object"==typeof exports?require("jquery"):jQuery)}(function(e){function t(e){return c.raw?e:encodeURIComponent(e)}function n(e){return c.raw?e:decodeURIComponent(e)}function o(e){return t(c.json?JSON.stringify(e):String(e))}function i(e){0===e.indexOf('"')&&(e=e.slice(1,-1).replace(/\\"/g,'"').replace(/\\\\/g,"\\"));try{return e=decodeURIComponent(e.replace(r," ")),c.json?JSON.parse(e):e}catch(t){}}function a(t,n){var o=c.raw?t:i(t);return e.isFunction(n)?n(o):o}var r=/\+/g,c=e.cookie=function(i,r,l){if(void 0!==r&&!e.isFunction(r)){if(l=e.extend({},c.defaults,l),"number"==typeof l.expires){var s=l.expires,u=l.expires=new Date;u.setTime(+u+864e5*s)}return document.cookie=[t(i),"=",o(r),l.expires?"; expires="+l.expires.toUTCString():"",l.path?"; path="+l.path:"",l.domain?"; domain="+l.domain:"",l.secure?"; secure":""].join("")}for(var d=i?void 0:{},f=document.cookie?document.cookie.split("; "):[],p=0,h=f.length;p<h;p++){var m=f[p].split("="),g=n(m.shift()),v=m.join("=");if(i&&i===g){d=a(v,r);break}i||void 0===(v=a(v))||(d[g]=v)}return d};c.defaults={},e.removeCookie=function(t,n){return void 0!==e.cookie(t)&&(e.cookie(t,"",e.extend({},n,{expires:-1})),!e.cookie(t))}}),function(e,t,n,o){var i=e(t);e.fn.lazyload=function(a){function r(){var t=0;l.each(function(){var n=e(this);s.skip_invisible&&!n.is(":visible")||e.abovethetop(this,s)||e.leftofbegin(this,s)||(e.belowthefold(this,s)||e.rightoffold(this,s)?++t>s.failure_limit:(n.trigger("appear"),t=0))})}var c,l=this,s={threshold:0,failure_limit:0,event:"scroll",effect:"show",container:t,data_attribute:"original",skip_invisible:!0,appear:null,load:null};return a&&(o!==a.failurelimit&&(a.failure_limit=a.failurelimit,delete a.failurelimit),o!==a.effectspeed&&(a.effect_speed=a.effectspeed,delete a.effectspeed),e.extend(s,a)),c=s.container===o||s.container===t?i:e(s.container),0===s.event.indexOf("scroll")&&c.bind(s.event,function(e){return r()}),this.each(function(){var t=this,n=e(t);t.loaded=!1,n.one("appear",function(){if(!this.loaded){if(s.appear){var o=l.length;s.appear.call(t,o,s)}e("<img />").bind("load",function(){n.hide().attr("src",n.data(s.data_attribute))[s.effect](s.effect_speed),t.loaded=!0;var o=e.grep(l,function(e){return!e.loaded});if(l=e(o),s.load){l.length;s.load.call(t,this.width,this.height);
}}).attr("src",n.data(s.data_attribute))}}),0!==s.event.indexOf("scroll")&&n.bind(s.event,function(e){t.loaded||n.trigger("appear")})}),i.bind("resize",function(e){r()}),/iphone|ipod|ipad.*os 5/gi.test(navigator.appVersion)&&i.bind("pageshow",function(t){t.originalEvent&&t.originalEvent.persisted&&l.each(function(){e(this).trigger("appear")})}),e(n).ready(function(){r()}),this},e.belowthefold=function(n,a){var r;return r=a.container===o||a.container===t?i.height()+i.scrollTop():e(a.container).offset().top+e(a.container).height(),r<=e(n).offset().top-a.threshold},e.rightoffold=function(n,a){var r;return r=a.container===o||a.container===t?i.width()+i.scrollLeft():e(a.container).offset().left+e(a.container).width(),r<=e(n).offset().left-a.threshold},e.abovethetop=function(n,a){var r;return r=a.container===o||a.container===t?i.scrollTop():e(a.container).offset().top,r>=e(n).offset().top+a.threshold+e(n).height()},e.leftofbegin=function(n,a){var r;return r=a.container===o||a.container===t?i.scrollLeft():e(a.container).offset().left,r>=e(n).offset().left+a.threshold+e(n).width()},e.inviewport=function(t,n){return!(e.rightoffold(t,n)||e.leftofbegin(t,n)||e.belowthefold(t,n)||e.abovethetop(t,n))},e.extend(e.expr[":"],{"below-the-fold":function(t){return e.belowthefold(t,{threshold:0})},"above-the-top":function(t){return!e.belowthefold(t,{threshold:0})},"right-of-screen":function(t){return e.rightoffold(t,{threshold:0})},"left-of-screen":function(t){return!e.rightoffold(t,{threshold:0})},"in-viewport":function(t){return e.inviewport(t,{threshold:0})},"above-the-fold":function(t){return!e.belowthefold(t,{threshold:0})},"right-of-fold":function(t){return e.rightoffold(t,{threshold:0})},"left-of-fold":function(t){return!e.rightoffold(t,{threshold:0})}})}(jQuery,window,document);var jiaju={api:"",lazy:{effect:"fadeIn",threshold:200,load:function(e,t){var n,o,i,a,r=$(this);r.hasClass("auto")?(n=r.parents(".lazy").width(),o=r.parents(".lazy").height(),i=e,a=t,n/o<i/a?(r.css({width:"auto",height:"100%"}),i=o*e/t,r.css({left:100*-((i-n)/2/n)+"%",top:0})):(r.css({width:"100%",height:"auto"}),a=n*t/e,r.css({top:100*-((a-o)/2/o)+"%",left:0}))):r.hasClass("auto_height")?r.css({height:"auto"}):r.hasClass("height_middle")?(o=r.parents(".lazy").height(),n=r.parents(".lazy").width(),a=n*t/e,r.css({top:100*-((a-o)/2/o)+"%",left:0})):r.hasClass("auto_inner")&&(n=r.parents(".lazy").width(),o=r.parents(".lazy").height(),i=e,a=t,n/o>i/a?(r.css({width:"auto",height:"100%"}),i=o*e/t,r.css({left:100*-((i-n)/2/n)+"%",top:0})):(r.css({width:"100%",height:"auto"}),a=n*t/e,r.css({top:100*-((a-o)/2/o)+"%",left:0})))}},post:function(e,t,n){$.post(jiaju.api+e,t,function(e){jiaju.hide_loading(),1==e.status?n&&n(e):jiaju.tips({type:"wrong",content:e.msg})},"json")},get:function(e,t,n){$.get(jiaju.api+e,t,function(e){jiaju.hide_loading(),1==e.status?n&&n(e):jiaju.tips({type:"wrong",content:e.msg})},"json")},scroll:0,system:"ios",view_scroll:function(){$("html,body").removeClass("no_scroll"),$(window).scrollTop(jiaju.scroll),jiaju.scroll=0},load:['<img src="http://icon.carimg.com/m/0201/loading.gif?v=1"> 正在加载中',"加载已完成！"],show_loading:function(){$("#ajax_loading").show(0)},hide_loading:function(){$("#ajax_loading").hide(0)},view_no_scroll:function(){jiaju.scroll=$(window).scrollTop(),$("html,body").addClass("no_scroll")},view_scroll:function(){$("html,body").removeClass("no_scroll"),$(window).scrollTop(jiaju.scroll),jiaju.scroll=0},scroll_ajax_flag:!0,page:function(e,t){var n=$(window),o=$(e);return!(o.length<=0)&&void n.scroll(function(){n.scrollTop()+100>o.offset().top-n.height()&&t(o)})},tips:function(e){var t=$("#warn");t.find("em").html(e.content),t.find("i")[0].className="iconfont icon-"+e.type,t.show();var n=e.time?e.time:2e3,o=setTimeout(function(){$("#warn").hide(),e.fn&&e.fn(),clearTimeout(o)},n)},url_attr:function(e){var t=new RegExp("[?&]"+e+"=([^&]+)","g"),n=t.exec(location.href),o=null;if(null!=n)try{o=decodeURIComponent(decodeURIComponent(n[1]))}catch(i){try{o=decodeURIComponent(n[1])}catch(i){o=n[1]}}return o},url0_attr:function(e){var t=new RegExp("[#&]"+e+"=([^&]+)","g"),n=t.exec(location.href),o=null;if(null!=n)try{o=decodeURIComponent(decodeURIComponent(n[1]))}catch(i){try{o=decodeURIComponent(n[1])}catch(i){o=n[1]}}return o},formerror:function(e,t){var n,o="",i="请输入";switch(e.attr("placeholder")&&(n=e.attr("placeholder").replace("请输入","")),e.find("option").length&&(i="请选择"),t){case"不能为空":var o=i+n;break;case"请输入数字":o=t;break;default:o=n+t}notie.alert(3,o,1.5),$(e).addClass("error").one("focus",function(){$(this).removeClass("error")})},submit:function(e){var t,n=$("#"+e.id);t="function"==typeof e.error?e.error:jiaju.formerror,n.submit(function(n){var o=$(this).validate({validate:{pwd:function(e,t){if(!/^[0-9A-Za-z]{6,20}$/.test(e.val()))return _error(e,"pwd"),!1}},messages:{pwd:"请将密码设置为6-20位，并且由字母，数字和符号两种以上组合"},isone:!0,error:t});return!!o&&("function"!=typeof e.callback||e.callback(this))}),n.find("[type=submit]")[0].disabled=!1},yuyue:function(e){jiaju.submit({id:"yuyue",callback:function(t){jiaju.show_loading();var n=$(t);n.find("[type=submit]")[0].disabled=!0,$("#pc_url").val(window.location.href);var o=$.cookie("user_base_id");return void 0!==o?$("#pc_userid").val(o):$("#pc_userid").val(0),$.ajax({url:n.attr("action"),dataType:"jsonp",data:n.serializeArray(),success:function(t){jiaju.hide_loading();var o;200==t.status?(n[0].reset(),o="correct"):o="wrong","undefined"!=typeof e&&"function"==typeof e.callback?e.callback(t):jiaju.tips({type:o,content:t.msg}),n.find("[type=submit]")[0].disabled=!1},error:function(){jiaju.hide_loading(),n.find("[type=submit]")[0].disabled=!1}}),!1}})},getcode:function(e){var t=e.innerHTML,n=60;!function(){n>0?(e.disabled=!0,$(e).addClass("disabled"),e.innerHTML="倒计时"+n--+"秒",setTimeout(arguments.callee,1e3)):(e.disabled=!1,e.innerHTML=t,$(e).removeClass("disabled"))}()},countdown:function(e){!function(){function t(e,t){return 0===e?"":e+t}var n=null,o=new Date(e.date),i=new Date,a=Math.floor((o-i)/1e3);if(a<=0)return clearTimeout(n),void e.obj.html(e.txt).parents(".count").addClass("pass");var r=Math.floor(a/86400),c=Math.floor((a-24*r*3600)/3600),l=Math.floor(a/60-(24*r*60+60*c)),s=a%60,u=t(r,"天")+t(c,"小时")+t(l,"分")+s+"秒";e.obj.html(u),n=setTimeout(function(){jiajuol.countdown(e)},1e3)}()},share:function(e){new nativeShare({url:"",title:e.title,desc:e.description,img:e.image,img_title:"家居在线",from:"家居在线"});$('<div class="share_body change_fixed"><div class="socials icon_h5"></div></div><section class=erweima><div><img src="><span>微信里点“发现”，扫一下<br>二维码便可将本文分享至朋友圈。</span></div></section>').appendTo("body"),share_fn(),$(".socials").share(e),$(document).on("click",".shares",function(){jiaju.share_flag||$(".share_body").show().find("social-share").addClass("normal")}),$(".erweima div,.social-share").click(function(e){e.stopPropagation()}),$(".erweima,.share_body").click(function(){$(this).hide()})},phone:function(e){},footer_value:function(e){$("body").addClass("pd_b");var t=['<a href="/free" class=flex1><span><i class="iconfont icon-baojiadan"></i>装修报价</span></a>','<a href="/appoint" class=flex1><span><i class="iconfont icon-lease-resv-2homezaixian"></i>在线预约</span></a>','<a href="" class=flex1><span><i class="iconfont icon-goumai"></i>预约购买</span></a>','<a href="http://m.jiajuol.com/seller/0200/activity/activity_appoint.php?activity_id=38" class=flex1><span><i class="iconfont icon-baoming"></i>我要报名</span></a>','<a href=tel:400-9230-798 class=flex1><span><i class="iconfont icon-dianhuayuyue"></i>电话预约</span></a>','<a href=tel:400-9230-798 class=flex1><span><i class="iconfont icon-dianhuayuyue"></i>电话咨询</span></a>','<a href="" class=flex1><span><i class="iconfont icon-dianping"></i>我要点评</span></a>','<a href="/appoint" class=flex1><span><i class="iconfont icon-lease-resv-2homezaixian"></i>预约到店</span></a>'];$('<section class="footer_href_body"><section class="footer_href change_fixed box fadeInUp"></section></section>').appendTo("body");for(var n=$("section.footer_href"),o=$("section.footer_href_body"),i=0;i<e.arr.length;i++){var a=$(t[e.arr[i]]);e.arr_href&&e.arr_href[i]&&a.attr("href",e.arr_href[i]),a.appendTo(n)}o.show()},shop_list:function(){if(void 0!=$.cookie("user_base_id")){var e=!1,t="";$(".shangpin_list li dl dd").find("p").addClass("active").html("我想买"),$(".shangpin_list li dl dd").each(function(e,n){t+=$(n).attr("data-value")+","}),$.get("/api/seller/goods/goods_price.php",{goods_id:t.slice(0,-1)},function(e){var e=e;200==e.status&&$(".shangpin_list li dl dd span").each(function(t,n){$(n).html(0==e.data[t].price?"到店更低":"￥"+e.data[t].price)})},"json")}else{var e=!0;$(".shangpin_list li dl dd").find("span").html("劲爆底价").next().html("登录可见")}$(".shangpin_list li a").click(function(t){e&&void 0!=$.cookie("user_base_id")&&(location.reload(),t.preventDefault())})},zan:function(e){$("body").on("click",e.dom,function(){var t=this;if($.cookie("user_base_id")){if(t.flag)return;if(e.dom_target)var n=$(this).find(e.dom_target);else var n=$(this);var o,i;t.flag=!0;var a=function(){jiaju.post("/api/collect/collect.php",{action:o,tid:n.attr("data-id")},function(o){t.flag=!1,o.target=n,e.fn&&e.fn(o)})};1==e.action?(o="collectSubject",n.hasClass("on")&&(o="deleteCollectSubject",i="是否取消收藏")):2==e.action&&(o="collectPhoto",n.hasClass("on")&&(o="deleteCollectPhoto",i="是否取消收藏")),i?notie.confirm(i,"是","否",function(){a(),notie.alert("success","已取消收藏",1.5)},function(){t.flag=!1}):(a(),notie.alert("success","收藏成功",1.5))}else t.flag=!1,location="/service/login"})},safari_tip:function(e){var t=navigator.userAgent.toLowerCase();"weibo"==t.match(/WeiBo/i)&&($('<div class="safari-tip fadeIn"><i class="fadeInUp"></i><div>').appendTo("body").on("touchmove",function(e){e.preventDefault()}).on("touchend",function(){$(this).hide()}).on("click",function(){$(this).hide()}),$("body").on("click",e,function(e){$("div.safari-tip").show(),e.preventDefault()}))}};$(function(){jiaju.lazy_tt=setTimeout(function(){$(".lazy_img").lazyload(jiaju.lazy),clearTimeout(jiaju.lazy_tt)},300),window.addEventListener("load",function(){FastClick.attach(document.body)},!1),$("<section id='ajax_loading'><div><i></i></div></section>").appendTo("body"),document.getElementById("ajax_loading").addEventListener("touchmove",function(e){e.preventDefault()},!1),$('<section id="warn" class="change_fixed no_touch"><span class="warn"><i class=" iconfont"></i><em></em></span></section>').appendTo("body"),$('<section id="input_bug">').appendTo("body"),$(".no_touch").each(function(e,t){t.addEventListener("touchmove",function(e){e.preventDefault()},!1)}),jiaju.meun_img_flag=!0,jiaju.meun_flag=!1,$("body").on("click","#meun_icon",function(){if(jiaju.meun_flag)return!1;var e=$(this);if(e.hasClass("on")){$(".top-hrefs").show(),jiaju.view_show?($(".close_view").show(),$(".top-hrefs").hide()):$(".close_view").hide(),e.removeClass("on"),$("#public_meun").removeClass("zoom_big").addClass("zoom_small"),$("div.black_block").stop().fadeOut(),jiaju.view_scroll(),jiaju.meun_flag=!0;var t=setTimeout(function(){$("#public_meun").hide(),$("#public_meun").addClass("zoom_big").removeClass("zoom_small"),jiaju.meun_flag=!1,clearTimeout(t)},500)}else{$("#public_meun").show(),jiaju.view_show?($(".close_view").show(),$(".top-hrefs").hide()):$(".close_view").hide(),$("div.black_block").stop().fadeIn(),jiaju.meun_flag=!0;var n=setTimeout(function(){jiaju.view_no_scroll(),jiaju.meun_flag=!1,clearTimeout(n)},500);jiaju.meun_img_flag&&(jiaju.meun_img_flag=!1,$("#public_meun .lazy_img").lazyload(jiaju.lazy)),e.addClass("on")}}),$("footer").height($(".footer").height()+30),jiaju.input_tt="",jiaju.location_flag=!0,$(document).on("click",".input i.icon-guanbi",function(){$(this).removeClass("has_close").siblings("input").val("")}),$(document).on("input",".input input",function(){$(this).val()?$(this).siblings("i.icon-guanbi").addClass("has_close"):$(this).siblings("i.icon-guanbi").removeClass("has_close")}).on("focus",".input input",function(){$(this).val()?$(this).siblings("i.icon-guanbi").addClass("has_close"):$(this).siblings("i.icon-guanbi").removeClass("has_close")}).on("blur",".input input",function(){var e=$(this);jiaju.input_tt&&clearTimeout(jiaju.input_tt),jiaju.input_tt=setTimeout(function(){e.siblings("i.icon-guanbi").removeClass("has_close")},400)}).on("focus","#word",function(e){$("#input_bug").show(),$("section.search_hot").addClass("search_font"),jiaju.view_no_scroll(),window.scrollTo(0,0),$("#public_title").css("position","absolute");$(this)}).on("blur","#word",function(){$("#public_title").css("position","fixed"),jiaju.view_scroll(),$("#input_bug").hide(),$("section.search_hot").removeClass("search_font")}).on("click",".need_href",function(e){return e.preventDefault(),location.href=$(this).attr("href"),!1}),navigator.userAgent.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/)||(jiaju.system="android"),$("body").on("click","#notie-confirm-background",function(){$("#notie-confirm-no").click()}),$("#public_search_input").on("click",".search_select",function(){$(".select_list_body").show()}).on("click",".select_list_body",function(){$(this).hide()}).on("click",".public_share",function(){}),$("#public_search_input").on("click",".search_select_list span",function(){$(".search_select i.selected").html($(this).html()),$("#public_search_input").attr("action",$(this).attr("data-href")).find("#search_select option").val($(this).attr("data-action")),$("input#word").focus(),$("section.search_hot div").stop().hide().eq($(this).index()).fadeIn()}),$("#public_search_input").submit(function(e){""==$.trim($("#word").val())&&e.preventDefault()}),$("body").on("click",".url_back",function(){return history.go(-1),!1}),$('<div class="go_top iconfont icon-fanhuidingbu"></div>').appendTo("body").click(function(){$("html,body").stop().animate({scrollTop:0},500)});var e=$(".go_top");$(window).scroll(function(){$(this).scrollTop()>200?e.show():e.hide()});var t=$("body").attr("data-title");if(page_title?$("#title_title1 div").html(page_title).show():$("#title_title1 div").html(t).show(),$("body").on("touchmove","#notie-select-background",function(e){e.preventDefault()}),$.cookie("user_base_id")){var n=$(".logins").eq(1);n.addClass("on").find("img").attr("data-original",$.cookie("imgfile")),n.find(".ellipsis i").html($.cookie("nickname")),n.find(".button").click(function(){jiaju.show_loading(),$.ajax({type:"get",async:!1,url:"http://service.jiajuol.com/ajax/ajaxUserCtl.php",dataType:"jsonp",success:function(e){jiaju.hide_loading(),200==e.status?location.reload():layer.alert(e.msg)},error:function(){}})})}else $(".logins").eq(0).addClass("on")}),window.location.href.indexOf("m.jiajuol.com")<0&&($("<div/>").load("public/header.html",function(){$("#title_title1").html(document.title)}).prependTo("body"),$("<div/>").load("public/footer.html").appendTo("body")),function(){var e=$(".catTab .tabLayer");$(".catTab").on("click","li",function(){var t=$(this).index(),n=$(this);n.hasClass("active")?(n.removeClass("active"),e.hide(0,function(){$(this).children("div").hide(0)}),$("#catTab_black").hide()):(n.addClass("active").siblings().removeClass("active"),e.children("div").eq(t).siblings("div").hide(0).end().show(0,function(){e.show()}),$("#catTab_black").show())}),e.on("click","div a",function(){$(this).addClass("active").siblings("a").removeClass("active")}),$("#catTab_black").on("touchmove",function(){$(".catTab li").removeClass("active"),e.hide(0,function(){$(this).children("div").hide(0)}),$("#catTab_black").hide()})}(),function(e){e.fn.imgUpload=function(t){var n=e(this),o=e('<form method="post" enctype="multipart/form-data"><input type="file" accept="image/gif,image/jpeg,image/jpg,image/png" name="file"></form>');n.click(function(i){var a=e(this);a.hasClass("disabled")||(o[0].reset(),o.find(":file").one("change",function(e){if(a.addClass("disabled"),"function"!=typeof t.before||t.before(n,e)!==!1){var i={url:t.url,dataType:"json",data:t.data?t.data:{},success:function(e){t.success(n,e),a.removeClass("disabled")},error:function(e){"function"==typeof t.error&&t.error(n),a.removeClass("disabled")}};o.ajaxSubmit(i)}}).trigger("click"))})}}(jQuery);